<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>Add Math to Web pages with EzMath</title>
<meta name="type" content="correc@ti.con">
<meta name="topic" content="Markup Languages">
<meta name="keywords" content="mathematics, expressions, formulae,
markup, education, training">
<meta name="WWW7-SIN" content="118">
<meta name="author" content="Dave Raggett &lt;correc@ti.con&gt;">
<meta name="author" content="Davy Batsalle
&lt;correc@ti.con&gt;">
</head>
<body bgcolor="#FFFFCC">
<p align="center"><small><a href="EzMathPaper.html">Details</a> |
<a href="EzMathInstall.html#install">Installation</a></small></p>

<hr>
<h1><img src="ezmath.gif" align="top" alt="Ezmath Icon">Add Math to
Web pages with HP EzMath v1.1</h1>

<p align="center"><small>Dave Raggett &lt;correc@ti.con&gt;,<br>
Davy Batsalle &lt;correc@ti.con&gt;<br>
25th Ocober 1998</small></p>

<p align="center"><img src="EzMathEditor.gif" alt="screen shot"
with="353" height="255"></p>

<p>The Web lacks an effective means for embedding mathematical
expressions in Web pages. Hitherto, authors have been forced to use
bitmapped images, which are slow to load, complex to produce, and
look bad when printed.</p>

<p>EzMath provides an easy to learn notation for embedding
mathematical expressions in Web pages. The notation is inspired by
how expressions are spoken aloud together with a few abbreviations
for conciseness (e.g. x^y denotes x raised to the power y).</p>

<p>EzMath covers a widely used subset of mathematics. EzMath
focusses on the meaning of mathematical notation rather than just
how it looks on paper (or screen). The EzMath editor makes it very
easy to create the markup for pasting into your web pages, either
in the EzMath notation or as MathML.</p>

<p>The full length paper on EzMath<sup>[<a href="#1">1</a>]</sup>
compares it with previous approaches and gives a definitive list of
EzMath features. EzMath was developed by Dave Raggett and Davy
Batsalle with the generous support of Hewlett Packard Laboratories.
Suggestions for further work, and offers of help for porting to
other platforms including ActiveX, and ideas for extensions to
other areas of mathematics are welcomed.</p>

<p>A freeware implementation of EzMath is available now for Windows
95/NT, and support for other platforms is underway. You can
download the editor, plugin and documentation as a zip file (137k)
from:</p>

<p align="center"><a href=
"http://www.w3.org/People/Raggett/ezmath1_1.zip">
http://www.w3.org/People/Raggett/ezmath1_1.zip</a></p>

<p>The Ezmath for the expression in the figure above is:</p>

<pre>
        a^m over a^n = either a^{m-n} when m &gt; n
         or 1 when m = n or 1 over a^{n-m} when m &lt; n
</pre>

<p>Some other examples:</p>

<pre>
        ax^2+bx+c=0
        integral from 0 to pi of sin ax wrt x
        limit as x tends to infinity of function f(x)
        matrix M = matrix (1,2;2,1)
</pre>

<p>The EzMath editor does all the work needed to markup this up in
a form that will be recognized by your browser, you can then simply
paste the markup into your HTML:</p>

<pre>
        &lt;embed type="text/ezmath"
            pluginspage="http://www.w3.org/People/Raggett/EzMath"
            align=absmiddle
            width= 181 height=106
            fontsize=small
            color="#FFFF00"
            bgcolor="#000080"
            alt="a^m over a^n = either a^{m-n} when m &gt; n 
                or 1 when m = n or 1 over a^{n-m} when m &lt; n"&gt;
</pre>

<p>You can use the OBJECT element instead of EMBED, but this won't
work with Netscape 3.0. The OBJECT element does, however, allow you
to provide a fallback, e.g.</p>

<pre>
          &lt;object type="text/ezmath"
            codebase="http://www.w3.org/People/Raggett/EzMath"
            align=absmiddle
            width= 181 height=106&gt;
          &lt;param name="fontsize" value="small"&gt;
          &lt;param name="color" value="#FFFF00"&gt;
          &lt;param name="bgcolor" value="#000080"&gt;
          &lt;param name="alt" value="a^m over a^n = either
             a^{m-n} when m &gt; n or 1 when m = n or
             1 over a^{n-m} when m &lt; n"&gt;
          &lt;img src=expr13.gif align=absmiddle
                width= 181 height=106
                alt="a^m over a^n = either a^{m-n} when m &gt; n 
                or 1 when m = n or 1 over a^{n-m} when m &lt; n"&gt;
          &lt;/object&gt;
</pre>

<p>Work underway at Hewlett Packard on next generation style
sheets<sup>[<a href="#2">2</a>]</sup> will simplify this to
just:</p>

<pre>
        &lt;f&gt;a^{m-n} when m &gt; n or 1 when m = n
             or 1 over a^{n-m} when m &lt; n&lt;/f&gt;
</pre>

<p>W3C's MathML<sup>[<a href="#3">3</a>]</sup> provides two sets of
tags, one concerned primarily with presentation, and the other with
the meaning of mathematical expressions. MathML aims to provide a
low level format for machine to machine communication. It is much
more verbose than EzMath, and is not intended for direct
editing.</p>

<p>The EzMath editor also provides support for marking up
expressions in MathML's content tags. To do this, you simply change
the clipboard format to MathML. For the above expression you now
get the following:</p>

<pre>
        &lt;e&gt;
           &lt;eq/&gt;
           &lt;apply&gt;
              &lt;over/&gt;
              &lt;apply&gt;
                 &lt;power/&gt;
                 &lt;ci&gt;a&lt;/ci&gt;
                 &lt;ci&gt;m&lt;/ci&gt;
              &lt;/apply&gt;
              &lt;apply&gt;
                 &lt;power/&gt;
                 &lt;ci&gt;a&lt;/ci&gt;
                 &lt;ci&gt;n&lt;/ci&gt;
              &lt;/apply&gt;
           &lt;/apply&gt;
           &lt;ea&gt;
              &lt;apply&gt;
                 &lt;apply&gt;
                    &lt;power/&gt;
                    &lt;ci&gt;a&lt;/ci&gt;
                    &lt;apply&gt;
                       &lt;minus/&gt;
                       &lt;ci&gt;m&lt;/ci&gt;
                       &lt;ci&gt;n&lt;/ci&gt;
                    &lt;/apply&gt;
                 &lt;/apply&gt;
                 &lt;st/&gt;
                 &lt;e&gt;
                    &lt;gt/&gt;
                    &lt;ci&gt;m&lt;/ci&gt;
                    &lt;ci&gt;n&lt;/ci&gt;
                 &lt;/e&gt;
              &lt;/apply&gt;
              &lt;apply&gt;
                 &lt;cn&gt;1&lt;/cn&gt;
                 &lt;st/&gt;
                 &lt;e&gt;
                    &lt;eq/&gt;
                    &lt;ci&gt;m&lt;/ci&gt;
                    &lt;ci&gt;n&lt;/ci&gt;
                 &lt;/e&gt;
              &lt;/apply&gt;
              &lt;apply&gt;
                 &lt;apply&gt;
                    &lt;over/&gt;
                    &lt;cn&gt;1&lt;/cn&gt;
                    &lt;apply&gt;
                       &lt;power/&gt;
                       &lt;ci&gt;a&lt;/ci&gt;
                       &lt;apply&gt;
                          &lt;minus/&gt;
                          &lt;ci&gt;n&lt;/ci&gt;
                          &lt;ci&gt;m&lt;/ci&gt;
                       &lt;/apply&gt;
                    &lt;/apply&gt;
                 &lt;/apply&gt;
                 &lt;st/&gt;
                 &lt;e&gt;
                    &lt;lt/&gt;
                    &lt;ci&gt;m&lt;/ci&gt;
                    &lt;ci&gt;n&lt;/ci&gt;
                 &lt;/e&gt;
              &lt;/apply&gt;
           &lt;/ea&gt;
        &lt;/e&gt;
</pre>

<h2>Known Problems</h2>

<p>Printing doesn't work yet! I am having technical problems owing
to the lack of source code for working example of a plugin that
prints, but hope to have a fix for this soon.</p>

<p>This version fixes some bugs with the generation of MathML.</p>

<p>The <b>for any</b> statement is temporarily out of order. I am
looking at how this and the <b> declare</b> statement can be
adapted to specify meanings, such as <b>E</b> is the electric
field strength, while c is the speed of light. My goal is to allow
these meanings to pop-up as tooltips as the mouse hovers over
identifiers.</p>

<p>The following idioms are not (yet) recognized:</p>

<ul>
<li><b>sin<sup>2</sup> x</b> for (sin x)<sup>2</sup></li>

<li><b>sin<sup>-1</sup> x</b> for arcsin x</li>
</ul>

<p>Similarly for other trignometric functions.</p>

<h2>Recent Additions</h2>

<p>I have added tentative support for vector calculus. As an
example, you can view Maxwells equations (in cgs-Gaussian units)
from the Math!Calculus menu. This illustrates the use of the
declare statement and ";" for separating successive equations.</p>

<p>div, grad and curl are now rendered using the nabla symbol,
thanks to feedback from users. The "there exists" symbol is now
recognized and displayed correctly. This fixes a bug in previous
versions.</p>

<p>You can now specify complex numbers, e.g.</p>

<pre>
    complex r
    complex (3, 4)
    declare p as complex
</pre>

<p>I wondered about allowing "complex 3+4i" but think that is too
likely to cause ambiguities, as well as being a mismatch with other
prefixes for vector, matrix etc.</p>

<p>In the run up to the publication of the W3C MathML Proposed
Recommendation, there were quite a few changes to the content tags
in MathML. I have done my best to catch up, but will do a better
job in the next release of EzMath.</p>

<h3>Future Work</h3>

<p>I would like to extend EzMath to support additional areas of
mathematics including tensors. Your feedback on which areas you
would like to see supported is welcomed! I also plan to extend the
plugin to work with MathML as input.</p>

<p align="right"><small><a href="http://www.w3.org/People/Raggett">
Dave Raggett</a> &lt;<a href="mailto:correc@ti.con">correc@ti.con</a>&gt;
<em>25th October 1998</em></small></p>

<blockquote>
<p><small><a name="1">[1]</a> EzMath is fully described at <a href=
"http://www.w3.org/People/Raggett/EzMath/">
http://www.w3.org/People/Raggett/EzMath/</a>.</small></p>

<p><small><a name="2">[2]</a> HP is developing a free browser
supporting extensions to HTML via style sheets written in blend of
CSS and JavaScript. For further details see the HP Spice submission
to W3C at <a href=
"http://www.w3.org/TR/1998/NOTE-spice-19980123.html">
http://www.w3.org/TR/1998/NOTE-spice-19980123.html</a> and attend
the presentation on Developers' Day.</small></p>

<p><small><a name="3">[3]</a> More information about MathML can be
found at <a href="http://www.w3.org/Math/">
http://www.w3.org/Math/</a>.</small></p>
</blockquote>
</body>
</html>

